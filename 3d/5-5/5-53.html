<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        canvas{
            background: #ccc;
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
<canvas width="500px" height="500px">
</canvas>
</body>
<script>
    //正n边形：27-38行
    var canvas=document.querySelector("canvas");
    var cobj=canvas.getContext("2d");
    cobj.translate(250,250);
    cobj.beginPath();
    cobj.arc(0,0,100,0,2*Math.PI);
    //    cobj.rotate(Math.PI/4);
    //    cobj.scale(1.5,1.5);
    //    cobj.strokeRect(-150,-100,300,200);
    // cobj.stroke();
    //    cobj.beginPath();
    //    var x=Math.cos(Math.PI/6)*100;
    //    var y=Math.sin(Math.PI/6)*100;
    //    for(var i=0;i<6;i++){
    //    cobj.save();
    //    cobj.rotate(i*2*Math.PI/6);  //保存现在的状态
    //    cobj.moveTo(x,y);
    //    cobj.lineTo(x,-y);
    //        cobj.restore();
    //    }
    //    cobj.stroke()
    //展示js能力



    //让它动起来
    //requestAnimationFrame(); //帧动画
    //cancelAnimationFrame();
    cobj.font="36px 微软雅黑";
    cobj.textAlign="center";
    cobj.textBaseline="middle";
    cobj.strokeStyle="red";
    cobj.lineWidth=20;
    function atr(deg) {
        return deg*Math.PI/180;
    }
    var angle=0;
    var f;
    var maxangle=60*0.01*360;
    function progress() {
        angle++;
        cobj.clearRect(-250,-250,500,500);
        cobj.beginPath();
        cobj.arc(0,0,100,-atr(90),atr(angle - 90));
        cobj.stroke();
        cobj.fillText(Math.floor(angle/360*100)+"%",0,0);
        if(angle>maxangle){
            cancelAnimationFrame(f);
        }else{
            f=requestAnimationFrame(progress);
        }
    }
    progress();
</script>

<html>
